@page "/ground-truths"
@inject HttpClient Http
@inject GroundTruthState State

<h1>Ground Truths</h1>
<p>Enter the actual values applicable to your situation.</p>

@if (State == null) {
    <p><em>Hmm...</em></p>
}
else {
    <EditForm Model="State">
        <DataAnnotationsValidator />

        <h3 class="p-3">Person benefiting from the change</h3>
        <TimeValueEditForm TimeValues="State.ImpactedPerson" />

        <h3 class="p-3">Person developing the change</h3>
        <TimeValueEditForm TimeValues="State.Developer" />
    </EditForm>
}

@code {
    protected override void OnInitialized() {
        State.OnChange += StateHasChanged;
    }

    public void Dispose() {
        State.OnChange -= StateHasChanged;
    }
}
